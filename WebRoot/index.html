<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Page title -->
<title>防雷防静电智能监测与管理服务平台|首页</title>
<!-- js文件 -->
<script type="text/javascript" src="resources/js/xhbootstrap.js"></script>
<script type="text/javascript" src="dwr/util.js"></script>
<script type="text/javascript" src="dwr/engine.js"></script>
<script type="text/javascript" src="dwr/interface/TcpDwr.js"></script>
<script type="text/javascript" src="resources/static/echarts/echarts.js"></script>
<script type="text/javascript"
	src="resources/static/My97DatePicker/WdatePicker.js"></script>
<script type="text/javascript" src="mapfiles/mapapi.js"></script>
<script type="text/javascript" src="mapfiles/MarkerLabel.js"></script>
<!--[if lte IE 9]>
<script src="resources/js/jquery-1.8.3.min.js"></script>
<script src="resources/js/respond.min.js"></script>
<script src="resources/js/html5shiv.js"></script>
<![endif]-->
</head>
<!-- class="boxed" -->
<!-- class="fixed-small-header fixed-sidebar fixed-navbar fixed-footer" -->
<body class="hide-sidebar fixed-sidebar fixed-navbar fixed-footer"
	ng-app="app" ng-controller="alarm">
	<!-- Simple splash screen-->
	<!--[if lt IE 9]>
<p class="alert alert-danger" style="z-index:2000;text-align:center;">你的浏览器版本过低，请更新你的版本.建议使用IE9+版本，google，火狐等浏览器 </p>
<![endif]-->
	<div ng-include="'view/index_top.html'"></div>
	<div class="height:100%;width:100%">
		<div id="map_canvas"
			style="left:0;top:95px;bottom:0;width:100%;height:100%;min-height:450px;position:absolute;">
		</div>
	</div>
	<!-- <div class="map-title">
		<h4>站点分布图</h4>
	</div> -->
	<div id="pie" class="index-pie"></div>
	<div id="bar" class="index-bar"></div>
	<!-- <div class="center-status">
		<span clas="pull-right" style="color:#fff;"><i
			class="fa fa-plug" style="font-size:13pt;"></i>&nbsp;&nbsp;中心通信：<label
			id="centerStatus"></label></span>
	</div> -->
	<div class="map-bar">
		<span id="showZoom"></span>&nbsp;&nbsp;&nbsp;<span id="showLatlng"></span>
	</div>
	<div id="alarm-div">
		<div class="marker-header td-error">
			<div class="pull-right">
				<a href="#" class="closeAlarm btn btn-sm btn-danger"
					style="height:30px;"> <i class="fa fa-angle-double-down fa-x"
					style="color:#fff"></i>
				</a>
			</div>
			<span style="color:#fff;padding-top:10px;">直击雷防护装置故障提示,请更换设备</span>
		</div>
		<table id="tb-info" class="alarm-table xh-table table-hover">
			<thead>
				<tr class="tr-primary">
					<th width="80px">站点编号</th>
					<th width="80px">设备编号</th>
					<th width="40px">次数</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="x in i_value_alarm">
					<td class="td-error">{{x.siteId}}</td>
					<td class="td-error">{{x.deviceId}}</td>
					<td class="td-error">{{x.num}}</td>
				</tr>
			</tbody>
		</table>
	</div>
	<!-- Navigation   end-->
	<!-- Main Wrapper -->
	<!-- <div id="wrapper">
		<div class="content animate-panel">
			<div class="row" style="height:100%">
				<div class="col-md-4">
					<div class="row">
						<div class="col-md-12">
							<div class="hpanel hred">
								<div class="panel-heading hbuilt">
									<div class="panel-tools">
										<a class="showhide"><i class="fa fa-chevron-up"></i></a> <a
											class="closebox"><i class="fa fa-times"></i></a>
									</div>
									<i class="fa fa-pie-chart"></i> |站点统计
								</div>
								panel-heading
								<div class="panel-body search-body">
									<div id="pie" style="height:200px;width:100%;"></div>
								</div>
								panel-body
							</div>
						</div>
					</div>
					row
					<div class="row">
						<div class="col-md-12">
							<div class="hpanel hred">
								<div class="panel-heading hbuilt">
									<div class="panel-tools">
										<a class="showhide"><i class="fa fa-chevron-up"></i></a> <a
											class="closebox"><i class="fa fa-times"></i></a>
									</div>
									<i class="fa fa-bar-chart"></i> |设备异常，超过阀值数量统计
								</div>
								<div class="panel-body search-body">
									<div>
										<div id="bar" style="height:200px;width:100%;"></div>
									</div>
								</div>
							</div>
							hpanel
						</div>
					</div>
					row
					hpanel
				</div>
				col-md-3
				<div class="col-md-8">
					<div class="hpanel hred">
						<div class="panel-heading hbuilt">
							<div class="panel-tools">
							<a class="fullscreen"><i class="fa fa-expand"></i></a>
								<a class="showhide"><i class="fa fa-chevron-up"></i></a> <a
									class="closebox"><i class="fa fa-times"></i></a>
							</div>
							<i class="fa fa-bar-chart"></i> |站点分布图
						</div>
						panel-heading
						<div class="panel-body" style="height:100%;width:100%">
						<div id="map_canvas" style="left:0;top:0;width:100%;height:100%;min-height:450px;position:absolute;">
					
		</div>
						</div>
						panel-body
					</div>
					hpanel
				</div>
			</div>
			row
		</div>
	</div>
	Main Wrapper end -->
	<aside id="aside-right" class="animated fadeInRight">
		<!-- <div class="color-line"></div> -->
		<div class="marker-header">
			<div class="pull-left">
				<a href="#" class="closeMakerPanel btn btn-sm btn-danger"> <i
					class="fa fa-angle-double-right fa-2x" style="color:#fff"></i> <!-- <span
					class="fa-stack fa-lg"> <i
						class="fa fa-square-o fa-stack-2x"></i> <i
						class="fa fa-angle-double-right fa-stack-1x fa-inverse"
						style="color:#fff"></i>
				</span> -->
				</a>
			</div>
		</div>
		<div class="marker-body">
			<div class="row">
				<div class="col-md-12" style="color:#000; padding-left:20px;">

					<!-- v-timeline  -->
					<div class="v-timeline vertical-container animate-panel"
						data-child="vertical-timeline-block" data-delay="1">
						<div class="vertical-timeline-block">
							<div class="vertical-timeline-icon navy-bg" data-toggle="tooltip"
								data-placement="right">
								<img alt="" src="" id="trade-icon" style="margin-left:0px;">
							</div>
							<div class="vertical-timeline-content"
								style="background:#8bc34a;">
								<div class="p-sm">
									<div class="row">
										<div class="col-md-12">
											<div class="row">
												<div class="col-md-12">
													<label>站点编号：</label><span ng-model="siteId">{{site_items[0].siteId}}</span>
													<label style="margin-left:40px;">站点名称：</label><span ng-model="name">{{site_items[0].name}}</span>
												</div>
											</div>
											<div class="row">
												<label style="margin-left:15px;">所属省份：</label><span ng-model="province">{{site_items[0].province}}</span>
												<label style="margin-left:40px;">所属城市：</label><span ng-model="city">{{site_items[0].city}}</span>
												<label style="margin-left:40px;">所属区县：</label><span ng-model="county">{{site_items[0].county}}</span>
											</div>
											<div class="row">
												<div class="col-md-12">
													<label>所属单位：</label><span sng-model="company">{{site_items[0].company}}</span> 
													<label style="margin-left:40px;">所属行业：</label><span ng-model="county">{{site_items[0].trade}}</span>
												</div>
											</div>


										</div>
									</div>
									<!-- <div class="panel-footer">SPD</div> -->
								</div>
							</div>
							<!-- vertical-timeline-block -->
						</div>
						<!-- v-timeline  -->
						<div class="v-timeline vertical-container animate-panel"
							data-child="vertical-timeline-block" data-delay="1">
							<div class="vertical-timeline-block">
								<div class="vertical-timeline-icon navy-bg"
									data-toggle="tooltip" data-placement="right" title="SPD状态在线检测仪">
									<!-- <i class="fa fa-calendar"></i> -->
									<img alt="" src="resources/images/img/spd.png">
									</li>
								</div>
								<div class="vertical-timeline-content"
									style="background:#8bc34a;">
									<div class="p-sm">
										<div class="row">
											<div class="col-md-12">
												<table id="tb-info" class="xh-table table-hover">
													<thead>
														<tr class="tr-primary">
															<th>检测仪ID</th>
															<th>SPD名称</th>
															<th>SPD型号</th>
															<th>SPD位置</th>
															<th width="80px">状态</th>
															<th width="140px">获取时间</th>
														</tr>
													</thead>
													<tbody>
														<tr ng-if="spd_isNULL==1">
															<td colspan="6" class="text-center">没有SPD记录！</td>
														</tr>
														<tr ng-repeat="x in spd_items">
															<td>{{x.deviceId}}</td>
															<td>{{x.name}}</td>
															<td>{{x.type}}</td>
															<td>{{x.address}}</td>
															<td ng-if="x.status!=0" class="td-error"
																style="text-align: center">异常</td>
															<td ng-if="x.status==0" class="td-success"
																style="text-align: center">正常</td>
															<td style="text-align: center">{{x.time}}</td>
														</tr>
													</tbody>
												</table>
											</div>
										</div>
										<!-- <div class="panel-footer">SPD</div> -->
									</div>
								</div>
								<!-- vertical-timeline-block -->
							</div>
							<!-- v-timeline  -->
							<div class="v-timeline vertical-container animate-panel"
								data-child="vertical-timeline-block" data-delay="1">
								<div class="vertical-timeline-block">
									<div class="vertical-timeline-icon navy-bg"
										data-toggle="tooltip" data-placement="right" title="接地电阻在线检测仪">
										<!-- <i class="fa fa-calendar"></i> -->
										<img alt="" src="resources/images/img/Lr.png" />
									</div>
									<div class="vertical-timeline-content"
										style="background:#8bc34a;">
										<div class="p-sm">
											<div class="row">
												<div class="col-md-12">
													<table id="tb-info" class="xh-table table-hover">
														<thead>
															<tr class="tr-primary">
																<th>检测仪ID</th>
																<th>名称</th>
																<th>检测点</th>
																<th>检测点名称</th>
																<th width="120px">地阻测试值（Ω）</th>
																<th width="140px">获取时间</th>
															</tr>
														</thead>
														<tbody>
															<tr ng-if="r_isNULL==1">
																<td colspan="6" class="text-center">没有地阻记录！</td>
															</tr>
															<tr ng-repeat="x in r_items">
																<td>{{x.deviceId}}</td>
																<td>{{x.name}}</td>
																<td>{{x.model}}</td>
																<td>{{x.modelName}}</td>
																<td ng-if="x.value<0">未知</td>
																<td ng-if="x.value==0">未测试</td>
																<td ng-if="x.value>0"
																	ng-class="{true: 'td-success', false: 'td-error'}[x.value<x.maxValues]"
																	style="text-align: center">{{x.value}}Ω</td>
																<td ng-if="x.value==0" style="text-align: center"></td>
																<td ng-if="x.value>0" style="text-align: center">{{x.time}}</td>
															</tr>
														</tbody>
													</table>
												</div>
											</div>
											<!-- <div class="panel-footer">SPD</div> -->
										</div>
									</div>
									<!-- vertical-timeline-block -->
								</div>
								<!-- v-timeline  -->
								<div class="v-timeline vertical-container animate-panel"
									data-child="vertical-timeline-block" data-delay="1">
									<div class="vertical-timeline-block">
										<div class="vertical-timeline-icon navy-bg"
											data-toggle="tooltip" data-placement="right" title="雷电流在线检测仪"
											style="background:">
											<!-- <span class="badge badge-danger">I</span> -->
											<img alt="" src="resources/images/img/Li.png">
											</li>
										</div>
										<div class="vertical-timeline-content"
											style="background:#8bc34a;">
											<div class="p-sm">
												<div class="row">
													<div class="col-md-12">
														<table id="tb-info" class="xh-table table-hover">
															<thead>
																<tr class="tr-primary">
																	<th width="70px">检测仪ID</th>
																	<th>名称</th>
																	<th>位置</th>
																	<th width="120px">雷电流(单位：kA)</th>
																	<th width="140px">获取时间</th>
																</tr>
															</thead>
															<tbody>
																<tr ng-if="i_isNULL==1">
																	<td colspan="5" class="text-center">没有雷电流记录！</td>
																</tr>
																<tr ng-repeat="x in i_items">
																	<td style="text-align: center">{{x.deviceId}}</td>
																	<td>{{x.name}}</td>
																	<td>{{x.address}}</td>
																	<td ng-if="x.value<0"
																		ng-class="{true: 'td-success', false: 'td-warning'}[x.value>-x.maxValues]"
																		style="text-align: center">{{x.value}}</td>
																	<td ng-if="x.value==0">未测试</td>
																	<td ng-if="x.value>0"
																		ng-class="{true: 'td-success', false: 'td-warning'}[x.value<x.maxValues]"
																		style="text-align: center">{{x.value}}</td>
																	<td ng-if="x.value==0" style="text-align: center"></td>
										<td ng-if="x.value>0" style="text-align: center">{{x.time}}</td>

																</tr>
															</tbody>
														</table>
													</div>
												</div>
											</div>
											<!-- <div class="panel-footer">雷电流I</div> -->
										</div>
									</div>
									<!-- vertical-timeline-block -->
								</div>
								<!-- v-timeline  -->
							</div>
						</div>
					</div>
				</div>
			</div>
	</aside>

	<!-- Footer-->
	<!-- <footer class="footer">
		<span> 防雷软件管理系统 - V1.0 2016 Copyright 亚光电子</span>
	</footer> -->
	<div class="scroll-top text-info animated fadeIn top-hide">
		<i class="fa fa-chevron-circle-up fa-3x"></i>
	</div>
	<script type="text/javascript" src="controller/index.js"></script>
	<script type="text/javascript">
		xh.loadData();
		$(".showSetting").click(function() {
			$("#aside-right").fadeToggle("fast");
		});
		$(".closeAlarm").click(function() {

			$("#alarm-div").fadeOut("slow");
		})
	</script>
</body>
</html>
