<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Page title -->
<title>站点数据</title>
<!-- js文件 -->
<script type="text/javascript" src="../resources/js/xhbootstrap.js"></script>
<link rel="stylesheet" type="text/css"
	href="../resources/static/zTree_v3/css/zTreeStyle/zTreeStyle.css">
<script type="text/javascript"
	src="../resources/static/zTree_v3/js/jquery.ztree.core-3.5.js"></script>
<!--[if lte IE 9]>
<script src="../resources/js/jquery-1.8.3.min.js"></script>
<script src="../resources/js/respond.min.js"></script>
<script src="../resources/js/html5shiv.js"></script>
<![endif]-->
<script type="text/javascript">
	$(document).ready(function() {

		/* demoIframe = $("#testIframe");
		demoIframe.bind("load", loadReady);
		var zTree = $.fn.zTree.getZTreeObj("tree");
		zTree.selectNode(zTree.getNodeByParam("id", 101)); */

	});

	/* function loadReady() {
		var bodyH = demoIframe.contents().find("body").get(0).scrollHeight, htmlH = demoIframe
				.contents().find("html").get(0).scrollHeight, maxH = Math.max(
				bodyH, htmlH), minH = Math.min(bodyH, htmlH), h = demoIframe
				.height() >= maxH ? minH : maxH;
		if (h < 530)
			h = 530;
		demoIframe.height(h);
	} */
</script>
</head>
<!-- class="boxed" -->
<!-- class="fixed-small-header fixed-sidebar fixed-navbar fixed-footer" -->
<body class="fixed-small-header fixed-sidebar fixed-navbar fixed-footer"
	ng-app="app" ng-controller="site">
	<!-- Simple splash screen-->
	<div class="splash">
		<div class="color-line"></div>
		<div class="splash-title">
			<h1>系统正在努力加载中，请耐心等待</h1>
			<div class="spinner">
				<div class="rect1"></div>
				<div class="rect2"></div>
				<div class="rect3"></div>
				<div class="rect4"></div>
				<div class="rect5"></div>
			</div>
		</div>
	</div>
	<!--[if lt IE 9]>
<p class="alert alert-danger" style="z-index:2000;text-align:center;">你的浏览器版本过低，请更新你的版本.建议使用IE9+版本，google，火狐等浏览器 </p>
<![endif]-->
	<!-- Header -->
	<div class="boxed-wrapper">
		<div ng-include="'top.html'"></div>
		<!-- Navigation -->
		<div ng-include="'data_menu.html'"></div>
		<!-- Navigation   end-->
		<!-- Main Wrapper -->
		<div id="wrapper">
			<div class="small-header transition animated fadeIn">
				<div class="title-panel">
					<div class="panel-body">
						<div id="hbreadcrumb" class="pull-left">
							<ol class="hbreadcrumb breadcrumb">
								<li><span>配置管理</span></li>
								<li class="active"><span>站点属性</span></li>
							</ol>
						</div>
					</div>
				</div>
			</div>
			<div class="content animate-panel">
				<div class="row">
					<div class="col-md-4">
						<div class="hpanel hgreen">
							<div class="panel-heading hbuilt">
								<div class="panel-tools">
									<a class="showhide"><i class="fa fa-chevron-up"></i></a> <a
										class="closebox"><i class="fa fa-times"></i></a>
								</div>
								各区域站点列表
							</div>
							<div class="panel-body">
								<ul id="tree" class="ztree" style="width:auto; overflow:auto;"></ul>
							</div>
						</div>
					</div>
					<div class="col-md-8">
						<div class="row">
							<div class="col-md-12" style="color:#000;">
								<!-- v-timeline  -->
								<div class="v-timeline vertical-container animate-panel"
									data-child="vertical-timeline-block" data-delay="1">
									<div class="vertical-timeline-block">
										<div class="vertical-timeline-icon navy-bg"
											style="background:#fff;">
										<img alt="" src="../resources/images/img/xh.png"> 
										</div>
										<div class="vertical-timeline-content"
											style="background:#8bc34a;">
											<div class="p-sm">
												<div class="row">
													<div class="col-md-12">
														<label>站点编号：</label><span>{{site_items[0].siteId}}</span>
														<label style="margin-left:40px;">站点名称：</label> <span>{{site_items[0].name}}</span>
													
													</div>
												</div>
												 <div class="row">
														<label style="margin-left:15px;">所属省份：</label><span ng-model="province">{{site_items[0].province}}</span>
														<label style="margin-left:40px;">所属城市：</label> <span>{{site_items[0].city}}</span>
														<label style="margin-left:40px;">所属区县：</label> <span>{{site_items[0].county}}</span>
												</div> 
												<div class="row">
													<div class="col-md-12">
														<label>所属行业：</label> <span>{{site_items[0].trade}}</span>
														<label style="margin-left:40px;">所属单位：</label> <span>{{site_items[0].company}}</span>
													</div>
												</div>
											</div>
										</div>
									</div>
									<!-- vertical-timeline-block -->
								</div>
								<!-- v-timeline  -->
								<div class="v-timeline vertical-container animate-panel"
									data-child="vertical-timeline-block" data-delay="1">
									<div class="vertical-timeline-block">
										<div class="vertical-timeline-icon navy-bg">
											<!-- <i class="fa fa-calendar"></i> -->
											<img alt="" src="../resources/images/img/spd.png">
										</div>
										<div class="vertical-timeline-content"
											style="background:#8bc34a;">
											<div class="p-sm">
												<div class="row">
													<div class="col-md-12">
														<table id="tb-info" class="xh-table table-hover">
															<thead>
																<tr class="tr-primary">
																	<th width="100px">监测仪ID</th>
																	<th width="100px">位置</th>
																	<th width="100px">型号</th>
																	<th width="120px">SPD名称</th>
																	<th width="70px">SPD路数</th>
																	<th width="70px">防护等级</th>
																	<th width="120px">状态</th>
																</tr>
															</thead>
															<tbody>
																<tr ng-if="spd_isNULL==1">
																	<td colspan="7" class="text-center">没有查询到数据！</td>
																</tr>
																<tr ng-if="spd_isNULL!=1" ng-repeat="x in spd_items">
																	<td>{{x.deviceId}}</td>
																	<td>{{x.address}}</td>
																	<td>{{x.type}}</td>
																	<td>{{x.name}}</td>
																	<td>{{x.model}}</td>
																	<td>{{x.level}}</td>
																	<td ng-if="x.status!=0" class="td-error">异常</td>
																	<td ng-if="x.status==0" class="td-success">正常</td>
																</tr>
															</tbody>
														</table>
													</div>
												</div>
												<!-- <div class="panel-footer">SPD</div> -->
											</div>
										</div>
										<!-- vertical-timeline-block -->
									</div>
									<!-- v-timeline  -->
									<div class="v-timeline vertical-container animate-panel"
										data-child="vertical-timeline-block" data-delay="1">
										<div class="vertical-timeline-block">
											<div class="vertical-timeline-icon navy-bg">
												<!-- <i class="fa fa-calendar"></i> -->
												<img alt="" src="../resources/images/img/Lr.png" >
											</div>
											<div class="vertical-timeline-content"
												style="background:#8bc34a;">
												<div class="p-sm">
													<div class="row">
														<div class="col-md-12">
															<table id="tb-info" class="xh-table table-hover">
																<thead>
																	<tr class="tr-primary">
																		<th width="100px">监测仪ID</th>
																		<th width="100px">名称</th>
																		<th width="100px">型号</th>
																		<th width="80px">位置</th>
																		<th width="80px">地阻监测点</th>
																		<th width="110px">地阻监测点名称</th>
																		<th width="120px">测试值</th>
																	</tr>
																</thead>
																<tbody>
																	<tr ng-if="r_isNULL==1">
																		<td colspan="7" class="text-center">没有查询到数据！</td>
																	</tr>
																	<tr ng-if="r_isNULL!=1" ng-repeat="x in r_items">
																		<td>{{x.deviceId}}</td>
																		<td>{{x.name}}</td>
																		<td>{{x.type}}</td>
																		<td>{{x.address}}</td>
																		<td>{{x.model}}</td>
																		<td>{{x.modelName}}</td>
																		<td ng-if="x.value<0">未知</td>
																		<td ng-if="x.value==0">未测试</td>
																		<td ng-if="x.value>0" ng-class="{true: 'td-success', false: 'td-error'}[x.value<x.maxValues]" style="text-align: center">{{x.value}}</td>
																		
																	</tr>
																</tbody>
															</table>
														</div>
													</div>
													<!-- <div class="panel-footer">SPD</div> -->
												</div>
											</div>
											<!-- vertical-timeline-block -->
										</div>
										<!-- v-timeline  -->
										<div class="v-timeline vertical-container animate-panel"
											data-child="vertical-timeline-block" data-delay="1">
											<div class="vertical-timeline-block">
												<div class="vertical-timeline-icon navy-bg"
													data-toggle="tooltip" data-placement="right" title="雷电流I">
													<img alt="" src="../resources/images/img/Li.png" >
												</div>
												<div class="vertical-timeline-content"
													style="background:#8bc34a;">
													<div class="p-sm">
														<div class="row">
															<div class="col-md-12">
																<table id="tb-info" class="xh-table table-hover">
																	<thead>
																		<tr class="tr-primary">
																			<th width="100px">监测仪ID</th>
																			<th width="100px">名称</th>
																			<th width="100px">型号</th>
																			<th width="170px">位置</th>
																			<th width="180px">电流值</th>
																		</tr>
																	</thead>
																	<tbody>
																		<tr ng-if="i_isNULL==1">
																			<td colspan="5" class="text-center">没有查询到数据！</td>
																		</tr>
																		<tr ng-if="i_isNULL!=1" ng-repeat="x in i_items">
																			
																			<td>{{x.deviceId}}</td>
																			<td>{{x.name}}</td>
																			<td>{{x.model}}</td>
																			<td>{{x.address}}</td>
																			<td ng-if="x.value<0" ng-class="{true: 'td-success', false: 'td-warning'}[x.value>-x.maxValues]" style="text-align: center">{{x.value}}</td>
																			<td ng-if="x.value==0">未测试</td>
																			<td ng-if="x.value>0" ng-class="{true: 'td-success', false: 'td-warning'}[x.value<x.maxValues]" style="text-align: center">{{x.value}}</td>
																		</tr>
																	</tbody>
																</table>
															</div>
														</div>
													</div>
													<!-- <div class="panel-footer">雷电流I</div> -->
												</div>
											</div>
											<!-- vertical-timeline-block -->
										</div>
										<!-- v-timeline  -->
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- 2 -->
				</div>
			</div>
		</div>
		<!-- Main Wrapper end -->
	<!-- 	<div class="modal fade" id="spd_module" tabindex="-1" role="dialog"
			aria-hidden="true">
			<div class="modal-dialog modal-md">
				<div class="modal-content">
					<div class="color-line"></div>
					<div class="modal-header ">
						<button type="button" class="close" data-dismiss="modal"
							aria-hidden="true">&times;</button>
						<small class="font-bold">spd模块</small> 
					</div>
					<div class="modal-body ">
						<table id="tb-info" class="xh-table table-hover">
							<thead>
								<tr class="tr-primary">
									<th>编号</th>
									<th>名称</th>
									<th>型号</th>
									<th>防护等级</th>
									<th>状态</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-if="spd_module_isNULL==1">
									<td colspan="17" class="text-center">没有查询到数据！</td>
								</tr>
								<tr ng-repeat="x in spd_module_data">
									spd
									<td>{{x.deviceId}}</td>
									<td>{{x.name}}</td>
									<td>{{x.model}}</td>
									<td>{{x.level}}</td>
								<td ng-if="x.status!=1" class="td-error" style="text-align: center">异常</td>
										<td ng-if="x.status==1" class="td-success" style="text-align: center">正常</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="modal-footer"></div>
				</div>
			</div>
		</div> -->
		<!-- Footer-->
		<footer class="footer" ng-include="'footer.html'"> </footer>
		<div class="scroll-top text-info animated fadeIn top-hide">
			<i class="fa fa-chevron-circle-up fa-3x"></i>
		</div>
	</div>
	<script type="text/javascript" src="../controller/siteattr.js"></script>
	<script type="text/javascript">
		xh.loadData();
		$("table").on("click", "tr", function() {
			var value = $(this).attr("value");
			if (value != -1) {
				xh.loadForm(value);
				$(this).toggleClass("tr-click");
				$("table tr").not(this).removeClass("tr-click");
			}

		});
	</script>
</body>
</html>
